(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{15:function(t,e,a){t.exports={list:"Styles_list__1_7di",item:"Styles_item__14x4c",temp:"Styles_temp__yK-fr"}},24:function(t,e,a){t.exports={input:"Styles_input__1ljF_",container:"Styles_container__2r0YJ",button:"Styles_button__1WYho"}},29:function(t,e,a){t.exports={list:"Styles_list__10qBG",item:"Styles_item__1imGj"}},32:function(t,e,a){},45:function(t,e,a){t.exports={temp:"Styles_temp__1m7xT"}},48:function(t,e,a){t.exports=a(76)},76:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(17),c=a.n(i),l=a(10),o=(a(32),a(14)),u=a(9);function s(){var t=Object(u.c)((function(t){return t.lastData})),e=t.name,a=t.wind,i=t.sunrise,c=t.sunset,s=t.visible,m=Object(n.useState)([]),d=Object(o.a)(m,2),p=(d[0],d[1],new Date(1e3*i));return console.log(p),console.log(e),r.a.createElement("div",null,s?r.a.createElement("div",null,r.a.createElement("div",null," Details about today"),r.a.createElement("p",null,"City: ",e),r.a.createElement("p",null,"Wind: ",a," km/h"),r.a.createElement("p",null,"sunset: ",c)):"",r.a.createElement(l.b,{to:"/"},"Back to home"))}var m=a(19),d=a(20),p=a(21),h=a(12),b=a(23),y=a(22);function v(t){return function(e){return fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t.title,"&units=metric&appid=").concat("6627805f240aca84b4a726d2429a3208")).then((function(t){return t.json()}),(function(t){return console.log("An error occured.",t)})).then((function(t){e({type:"GET_DATA",payload:t})}))}}function f(t){return function(e){e({type:"GET_STORE_DATA",payload:t})}}var w=a(24),D=a.n(w),E=function(t){Object(b.a)(a,t);var e=Object(y.a)(a);function a(t){var n;return Object(d.a)(this,a),(n=e.call(this,t)).state={title:""},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"handleChange",value:function(t){this.setState(Object(m.a)({},t.target.id,t.target.value))}},{key:"handleSubmit",value:function(t){t.preventDefault();var e=this.state.title;this.props.cityName.includes(e)?this.props.getStoreData({title:e}):this.props.getData({title:e}),this.setState({title:""})}},{key:"render",value:function(){var t=this.state.title;return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:D.a.container},r.a.createElement("input",{type:"text",id:"title",value:t,onChange:this.handleChange,className:D.a.input}),r.a.createElement("button",{className:D.a.button,type:"submit"},"SAVE")))}}]),a}(n.Component);var O=Object(u.b)((function(t){return{cityName:t.weatherData.name,cityWeather:t.weatherData.weather}}),(function(t){return{getData:function(e){return t(v(e))},getStoreData:function(e){return t(f(e))}}}))(E),_=a(29),j=a.n(_),S=function(t){Object(b.a)(a,t);var e=Object(y.a)(a);function a(t){var n;return Object(d.a)(this,a),(n=e.call(this,t)).getDataFromStore=n.getDataFromStore.bind(Object(h.a)(n)),n}return Object(p.a)(a,[{key:"getDataFromStore",value:function(t){this.props.getStoreData({title:t})}},{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("div",{className:j.a.list},this.props.weatherDataName.map((function(e){return r.a.createElement("p",{key:e,className:j.a.item,onClick:function(){return t.getDataFromStore(e)}},e)}))))}}]),a}(n.Component);var g=Object(u.b)((function(t){return{weatherDataName:t.weatherData.name?t.weatherData.name:""}}),(function(t){return{getStoreData:function(e){return t(f(e))}}}))(S),N=a(30),x=a.n(N),C=a(43),k=a(44),T=a.n(k),A=a(45),G=a.n(A);function F(){var t=Object(n.useState)({}),e=Object(o.a)(t,2),a=e[0],i=e[1],c=Object(n.useState)(null),l=Object(o.a)(c,2),u=(l[0],l[1]),s=Object(n.useState)({}),m=Object(o.a)(s,2),d=m[0],p=m[1];function h(t){i(t.coords)}function b(t){u(t)}return Object(n.useEffect)((function(){(navigator.geolocation.getCurrentPosition(h,b),a.latitude)&&function(){var t=Object(C.a)(x.a.mark((function t(){var e;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T()("https://api.openweathermap.org/data/2.5/weather?lat=".concat(a.latitude,"&lon=").concat(a.longitude,"&units=metric&appid=").concat("6627805f240aca84b4a726d2429a3208"));case 2:e=t.sent,p(e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),a.latitude),r.a.createElement("div",null,d.name?r.a.createElement("div",null,r.a.createElement("p",null,"Current city: ",d.name),r.a.createElement("p",{className:G.a.temp},Math.round(d.main.temp),"\xbaC")):"We something weight")}var W=a(46),B=a.n(W),J=a(15),M=a.n(J);var R=Object(u.b)((function(t){return{weather:t.lastData.weather?t.lastData.weather:"",name:t.lastData.name?t.lastData.name:"",country:t.lastData.country?t.lastData.country:"",visible:t.lastData.visible}}),{getData:v,getStoreData:f})((function(t){var e=t.name,a=t.country,n=t.weather,i=t.visible,c="".concat(Math.round(n));return r.a.createElement("div",{className:M.a.list},i?r.a.createElement("div",{className:M.a.list},r.a.createElement("div",{className:B()(M.a.item,M.a.temp)},0==n?"":"".concat(c,"\xbaC")," "),r.a.createElement("div",{className:M.a.item},e,", ",a)):"")}));function q(){return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement(g,null),r.a.createElement(F,null),r.a.createElement(R,null),r.a.createElement("div",{className:"bottom"},r.a.createElement(l.b,{to:"/details"},"Details")))}var I=a(2);var P=function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"box"},r.a.createElement("h2",null,"Sinoptik"),r.a.createElement(I.a,{exact:!0,path:"/",component:q}),r.a.createElement(I.a,{path:"/details",component:s})))},V=a(11);var X=a(47),Y=a(8),K={data:{lastData:{id:[],name:[],country:[],weather:[],sunrise:[],sunset:[],visibility:[],wind:[],visible:!1},weatherData:{id:[],name:[],country:[],weather:[],sunrise:[],sunset:[],visibility:[],wind:[],visible:!0}}};var L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K.data,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_DATA":return Object(Y.a)(Object(Y.a)({},t),{},{lastData:Object(Y.a)(Object(Y.a)({},t.weatherData),{},{name:e.payload.name,id:e.payload.id,weather:e.payload.main.temp,country:e.payload.sys.country,sunrise:e.payload.sys.sunrise,sunset:e.payload.sys.sunset,visibility:e.payload.visibility,wind:e.payload.wind.speed,visible:!0}),weatherData:Object(Y.a)(Object(Y.a)({},t.weatherData),{},{name:t.weatherData.name.concat(e.payload.name),id:t.weatherData.id.concat(e.payload.id),weather:t.weatherData.weather.concat(e.payload.main.temp),country:t.weatherData.country.concat(e.payload.sys.country)})});case"GET_STORE_DATA":return Object(Y.a)(Object(Y.a)({},t),{},{lastData:Object(Y.a)(Object(Y.a)({},t.weatherData),{},{name:e.payload.title,weather:t.weatherData.weather[t.weatherData.name.indexOf(e.payload.title)],country:t.weatherData.country[t.weatherData.name.indexOf(e.payload.title)]})});default:return t}},U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||V.c,z=Object(V.d)(L,U(Object(V.a)((function(t){return t.dispatch,function(t){return function(e){return t(e)}}}),X.a)));c.a.render(r.a.createElement(u.a,{store:z},r.a.createElement(l.a,null,r.a.createElement(P,null))),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.ee5faf71.chunk.js.map